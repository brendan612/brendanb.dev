---
interface Props {
	href: string;
	label: string;
}

const { href, label } = Astro.props;
const isActive =
	Astro.url.pathname === href ||
	(href !== '/' && Astro.url.pathname.startsWith(`${href}/`));
---

<a href={href} class:list={['link', { active: isActive }]}>
	<span class="prefix" aria-hidden="true">//</span>
	{label}
</a>

<style>
	.link {
		position: relative;
		display: inline-flex;
		align-items: center;
		gap: 0.15rem;
		padding: 0.35rem 0.6rem;
		font-family: var(--font-mono);
		font-size: 0.82rem;
		font-weight: 400;
		color: var(--muted);
		border-radius: var(--radius-sm);
		transition: color var(--transition-fast), background var(--transition-fast);
	}

	.prefix {
		color: transparent;
		font-size: 0.78em;
		transition: color var(--transition-fast);
		user-select: none;
	}

	.link:hover,
	.link:focus-visible {
		color: var(--ink);
		background: color-mix(in oklab, var(--surface) 60%, transparent);
	}

	.link:hover .prefix,
	.link:focus-visible .prefix {
		color: var(--accent);
	}

	.active {
		color: var(--accent-strong);
	}

	.active .prefix {
		color: var(--accent);
	}
</style>
