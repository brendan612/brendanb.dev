<button class="theme-toggle" type="button" data-theme-toggle aria-label="Switch to light mode">
	<span class="icon" data-theme-icon-moon aria-hidden="true">üåô</span>
	<span class="icon" data-theme-icon-sun aria-hidden="true">‚òÄÔ∏è</span>
</button>

<script is:inline>
	(() => {
		const key = 'theme';
		const button = document.querySelector('[data-theme-toggle]');
		const moonIcon = document.querySelector('[data-theme-icon-moon]');
		const sunIcon = document.querySelector('[data-theme-icon-sun]');
		if (!button || !moonIcon || !sunIcon) return;

		const setUi = (theme) => {
			const isDark = theme !== 'light';
			button.setAttribute('aria-label', isDark ? 'Switch to light mode' : 'Switch to dark mode');
			moonIcon.toggleAttribute('hidden', !isDark);
			sunIcon.toggleAttribute('hidden', isDark);
		};

		const current = document.documentElement.dataset.theme || 'dark';
		setUi(current);

		button.addEventListener('click', () => {
			const next = document.documentElement.dataset.theme === 'light' ? 'dark' : 'light';
			document.documentElement.dataset.theme = next;
			localStorage.setItem(key, next);
			setUi(next);
		});
	})();
</script>

<style>
	.theme-toggle {
		display: inline-grid;
		place-items: center;
		padding: 0.45rem;
		background: color-mix(in oklab, var(--surface) 88%, white 12%);
		border: 1px solid var(--line);
		border-radius: 999px;
		color: var(--ink);
		cursor: pointer;
		transition: transform 140ms ease, border-color 180ms ease, color 180ms ease;
	}

	.theme-toggle:hover,
	.theme-toggle:focus-visible {
		transform: translateY(-1px);
		border-color: color-mix(in oklab, var(--accent) 55%, var(--line));
		color: var(--accent-strong);
	}

	.icon {
		display: inline-block;
		line-height: 1;
		font-size: 1rem;
		transform: translateY(0.02rem);
		color: var(--accent-strong);
	}
</style>
